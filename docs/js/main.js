!function(){var e={1530:function(e,t,r){"use strict";var n=r(8710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},9670:function(e,t,r){var n=r(111);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},1318:function(e,t,r){var n=r(5656),i=r(7466),o=r(1400),a=function(e){return function(t,r,a){var s,u=n(t),c=i(u.length),l=o(a,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4326:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9920:function(e,t,r){var n=r(6656),i=r(3887),o=r(1236),a=r(3070);e.exports=function(e,t){for(var r=i(t),s=a.f,u=o.f,c=0;c<r.length;c++){var l=r[c];n(e,l)||s(e,l,u(t,l))}}},8880:function(e,t,r){var n=r(9781),i=r(3070),o=r(9114);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9781:function(e,t,r){var n=r(7293);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,r){var n=r(7854),i=r(111),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},5268:function(e,t,r){var n=r(4326),i=r(7854);e.exports="process"==n(i.process)},8113:function(e,t,r){var n=r(5005);e.exports=n("navigator","userAgent")||""},7392:function(e,t,r){var n,i,o=r(7854),a=r(8113),s=o.process,u=s&&s.versions,c=u&&u.v8;c?i=(n=c.split("."))[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=n[1]),e.exports=i&&+i},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,r){var n=r(7854),i=r(1236).f,o=r(8880),a=r(1320),s=r(3505),u=r(9920),c=r(4705);e.exports=function(e,t){var r,l,d,f,h,p=e.target,m=e.global,g=e.stat;if(r=m?n:g?n[p]||s(p,{}):(n[p]||{}).prototype)for(l in t){if(f=t[l],d=e.noTargetGet?(h=i(r,l))&&h.value:r[l],!c(m?l:p+(g?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),a(r,l,f,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:function(e,t,r){"use strict";r(4916);var n=r(1320),i=r(7293),o=r(5112),a=r(2261),s=r(8880),u=o("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l="$0"==="a".replace(/./,"$0"),d=o("replace"),f=!!/./[d]&&""===/./[d]("a","$0"),h=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,d){var p=o(e),m=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),g=m&&!i((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!m||!g||"replace"===e&&(!c||!l||f)||"split"===e&&!h){var v=/./[p],y=r(p,""[e],(function(e,t,r,n,i){return t.exec===a?m&&!i?{done:!0,value:v.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=y[0],_=y[1];n(String.prototype,e,b),n(RegExp.prototype,p,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}d&&s(RegExp.prototype[p],"sham",!0)}},5005:function(e,t,r){var n=r(857),i=r(7854),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e])||o(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},647:function(e,t,r){var n=r(7908),i=Math.floor,o="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,u,c,l){var d=r+e.length,f=u.length,h=s;return void 0!==c&&(c=n(c),h=a),o.call(l,h,(function(n,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(d);case"<":a=c[o.slice(1,-1)];break;default:var s=+o;if(0===s)return n;if(s>f){var l=i(s/10);return 0===l?n:l<=f?void 0===u[l-1]?o.charAt(1):u[l-1]+o.charAt(1):n}a=u[s-1]}return void 0===a?"":a}))}},7854:function(e,t,r){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},6656:function(e){var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},3501:function(e){e.exports={}},4664:function(e,t,r){var n=r(9781),i=r(7293),o=r(317);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,r){var n=r(7293),i=r(4326),o="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},2788:function(e,t,r){var n=r(5465),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return i.call(e)}),e.exports=n.inspectSource},9909:function(e,t,r){var n,i,o,a=r(8536),s=r(7854),u=r(111),c=r(8880),l=r(6656),d=r(5465),f=r(6200),h=r(3501),p=s.WeakMap;if(a){var m=d.state||(d.state=new p),g=m.get,v=m.has,y=m.set;n=function(e,t){return t.facade=e,y.call(m,e,t),t},i=function(e){return g.call(m,e)||{}},o=function(e){return v.call(m,e)}}else{var b=f("state");h[b]=!0,n=function(e,t){return t.facade=e,c(e,b,t),t},i=function(e){return l(e,b)?e[b]:{}},o=function(e){return l(e,b)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},4705:function(e,t,r){var n=r(7293),i=/#|\.prototype\./,o=function(e,t){var r=s[a(e)];return r==c||r!=u&&("function"==typeof t?n(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},111:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:function(e){e.exports=!1},133:function(e,t,r){var n=r(5268),i=r(7392),o=r(7293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!Symbol.sham&&(n?38===i:i>37&&i<41)}))},8536:function(e,t,r){var n=r(7854),i=r(2788),o=n.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},3070:function(e,t,r){var n=r(9781),i=r(4664),o=r(9670),a=r(7593),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(o(e),t=a(t,!0),o(r),i)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},1236:function(e,t,r){var n=r(9781),i=r(5296),o=r(9114),a=r(5656),s=r(7593),u=r(6656),c=r(4664),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},8006:function(e,t,r){var n=r(6324),i=r(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},6324:function(e,t,r){var n=r(6656),i=r(5656),o=r(1318).indexOf,a=r(3501);e.exports=function(e,t){var r,s=i(e),u=0,c=[];for(r in s)!n(a,r)&&n(s,r)&&c.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~o(c,r)||c.push(r));return c}},5296:function(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},3887:function(e,t,r){var n=r(5005),i=r(8006),o=r(5181),a=r(9670);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(a(e)),r=o.f;return r?t.concat(r(e)):t}},857:function(e,t,r){var n=r(7854);e.exports=n},1320:function(e,t,r){var n=r(7854),i=r(8880),o=r(6656),a=r(3505),s=r(2788),u=r(9909),c=u.get,l=u.enforce,d=String(String).split("String");(e.exports=function(e,t,r,s){var u,c=!!s&&!!s.unsafe,f=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||o(r,"name")||i(r,"name",t),(u=l(r)).source||(u.source=d.join("string"==typeof t?t:""))),e!==n?(c?!h&&e[t]&&(f=!0):delete e[t],f?e[t]=r:i(e,t,r)):f?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},7651:function(e,t,r){var n=r(4326),i=r(2261);e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var o=r.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},2261:function(e,t,r){"use strict";var n,i,o=r(7066),a=r(2999),s=RegExp.prototype.exec,u=String.prototype.replace,c=s,l=(n=/a/,i=/b*/g,s.call(n,"a"),s.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),d=a.UNSUPPORTED_Y||a.BROKEN_CARET,f=void 0!==/()??/.exec("")[1];(l||f||d)&&(c=function(e){var t,r,n,i,a=this,c=d&&a.sticky,h=o.call(a),p=a.source,m=0,g=e;return c&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),g=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,m++),r=new RegExp("^(?:"+p+")",h)),f&&(r=new RegExp("^"+p+"$(?!\\s)",h)),l&&(t=a.lastIndex),n=s.call(c?r:a,g),c?n?(n.input=n.input.slice(m),n[0]=n[0].slice(m),n.index=a.lastIndex,a.lastIndex+=n[0].length):a.lastIndex=0:l&&n&&(a.lastIndex=a.global?n.index+n[0].length:t),f&&n&&n.length>1&&u.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),e.exports=c},7066:function(e,t,r){"use strict";var n=r(9670);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:function(e,t,r){"use strict";var n=r(7293);function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},4488:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:function(e,t,r){var n=r(7854),i=r(8880);e.exports=function(e,t){try{i(n,e,t)}catch(r){n[e]=t}return t}},6200:function(e,t,r){var n=r(2309),i=r(9711),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5465:function(e,t,r){var n=r(7854),i=r(3505),o="__core-js_shared__",a=n[o]||i(o,{});e.exports=a},2309:function(e,t,r){var n=r(1913),i=r(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.1",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},8710:function(e,t,r){var n=r(9958),i=r(4488),o=function(e){return function(t,r){var o,a,s=String(i(t)),u=n(r),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},1400:function(e,t,r){var n=r(9958),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},5656:function(e,t,r){var n=r(8361),i=r(4488);e.exports=function(e){return n(i(e))}},9958:function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},7466:function(e,t,r){var n=r(9958),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},7908:function(e,t,r){var n=r(4488);e.exports=function(e){return Object(n(e))}},7593:function(e,t,r){var n=r(111);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},9711:function(e){var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},3307:function(e,t,r){var n=r(133);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:function(e,t,r){var n=r(7854),i=r(2309),o=r(6656),a=r(9711),s=r(133),u=r(3307),c=i("wks"),l=n.Symbol,d=u?l:l&&l.withoutSetter||a;e.exports=function(e){return o(c,e)&&(s||"string"==typeof c[e])||(s&&o(l,e)?c[e]=l[e]:c[e]=d("Symbol."+e)),c[e]}},4916:function(e,t,r){"use strict";var n=r(2109),i=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},5306:function(e,t,r){"use strict";var n=r(7007),i=r(9670),o=r(7466),a=r(9958),s=r(4488),u=r(1530),c=r(647),l=r(7651),d=Math.max,f=Math.min;n("replace",2,(function(e,t,r,n){var h=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,p=n.REPLACE_KEEPS_$0,m=h?"$":"$0";return[function(r,n){var i=s(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,i,n):t.call(String(i),r,n)},function(e,n){if(!h&&p||"string"==typeof n&&-1===n.indexOf(m)){var s=r(t,e,this,n);if(s.done)return s.value}var g=i(e),v=String(this),y="function"==typeof n;y||(n=String(n));var b=g.global;if(b){var _=g.unicode;g.lastIndex=0}for(var x=[];;){var S=l(g,v);if(null===S)break;if(x.push(S),!b)break;""===String(S[0])&&(g.lastIndex=u(v,o(g.lastIndex),_))}for(var w,T="",E=0,R=0;R<x.length;R++){S=x[R];for(var k=String(S[0]),A=d(f(a(S.index),v.length),0),N=[],P=1;P<S.length;P++)N.push(void 0===(w=S[P])?w:String(w));var q=S.groups;if(y){var L=[k].concat(N,A,v);void 0!==q&&L.push(q);var O=String(n.apply(void 0,L))}else O=c(k,v,A,N,q,n);A>=E&&(T+=v.slice(E,A)+O,E=A+k.length)}return T+v.slice(E)}]}))},4124:function(){var e,t;t={},function(e,t){function r(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=f}function n(){return e.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function i(t,n,i){var o=new r;return n&&(o.fill="both",o.duration="auto"),"number"!=typeof t||isNaN(t)?void 0!==t&&Object.getOwnPropertyNames(t).forEach((function(r){if("auto"!=t[r]){if(("number"==typeof o[r]||"duration"==r)&&("number"!=typeof t[r]||isNaN(t[r])))return;if("fill"==r&&-1==l.indexOf(t[r]))return;if("direction"==r&&-1==d.indexOf(t[r]))return;if("playbackRate"==r&&1!==t[r]&&e.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;o[r]=t[r]}})):o.duration=t,o}function o(e,t,r,n){return e<0||e>1||r<0||r>1?f:function(i){function o(e,t,r){return 3*e*(1-r)*(1-r)*r+3*t*(1-r)*r*r+r*r*r}if(i<=0){var a=0;return e>0?a=t/e:!t&&r>0&&(a=n/r),a*i}if(i>=1){var s=0;return r<1?s=(n-1)/(r-1):1==r&&e<1&&(s=(t-1)/(e-1)),1+s*(i-1)}for(var u=0,c=1;u<c;){var l=(u+c)/2,d=o(e,r,l);if(Math.abs(i-d)<1e-5)return o(t,n,l);d<i?u=l:c=l}return o(t,n,l)}}function a(e,t){return function(r){if(r>=1)return 1;var n=1/e;return(r+=t*n)-r%n}}function s(e){v||(v=document.createElement("div").style),v.animationTimingFunction="",v.animationTimingFunction=e;var t=v.animationTimingFunction;if(""==t&&n())throw new TypeError(e+" is not a valid value for easing");return t}function u(e){if("linear"==e)return f;var t=b.exec(e);if(t)return o.apply(this,t.slice(1).map(Number));var r=_.exec(e);if(r)return a(Number(r[1]),m);var n=x.exec(e);return n?a(Number(n[1]),{start:h,middle:p,end:m}[n[2]]):g[e]||f}function c(e,t,r){if(null==t)return S;var n=r.delay+e+r.endDelay;return t<Math.min(r.delay,n)?w:t>=Math.min(r.delay+e,n)?T:E}var l="backwards|forwards|both|none".split("|"),d="reverse|alternate|alternate-reverse".split("|"),f=function(e){return e};r.prototype={_setMember:function(t,r){this["_"+t]=r,this._effect&&(this._effect._timingInput[t]=r,this._effect._timing=e.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=e.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(e){this._setMember("delay",e)},get delay(){return this._delay},set endDelay(e){this._setMember("endDelay",e)},get endDelay(){return this._endDelay},set fill(e){this._setMember("fill",e)},get fill(){return this._fill},set iterationStart(e){if((isNaN(e)||e<0)&&n())throw new TypeError("iterationStart must be a non-negative number, received: "+e);this._setMember("iterationStart",e)},get iterationStart(){return this._iterationStart},set duration(e){if("auto"!=e&&(isNaN(e)||e<0)&&n())throw new TypeError("duration must be non-negative or auto, received: "+e);this._setMember("duration",e)},get duration(){return this._duration},set direction(e){this._setMember("direction",e)},get direction(){return this._direction},set easing(e){this._easingFunction=u(s(e)),this._setMember("easing",e)},get easing(){return this._easing},set iterations(e){if((isNaN(e)||e<0)&&n())throw new TypeError("iterations must be non-negative, received: "+e);this._setMember("iterations",e)},get iterations(){return this._iterations}};var h=1,p=.5,m=0,g={ease:o(.25,.1,.25,1),"ease-in":o(.42,0,1,1),"ease-out":o(0,0,.58,1),"ease-in-out":o(.42,0,.58,1),"step-start":a(1,h),"step-middle":a(1,p),"step-end":a(1,m)},v=null,y="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",b=new RegExp("cubic-bezier\\("+y+","+y+","+y+","+y+"\\)"),_=/steps\(\s*(\d+)\s*\)/,x=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,S=0,w=1,T=2,E=3;e.cloneTimingInput=function(e){if("number"==typeof e)return e;var t={};for(var r in e)t[r]=e[r];return t},e.makeTiming=i,e.numericTimingToObject=function(e){return"number"==typeof e&&(e=isNaN(e)?{duration:0}:{duration:e}),e},e.normalizeTimingInput=function(t,r){return i(t=e.numericTimingToObject(t),r)},e.calculateActiveDuration=function(e){return Math.abs(function(e){return 0===e.duration||0===e.iterations?0:e.duration*e.iterations}(e)/e.playbackRate)},e.calculateIterationProgress=function(e,t,r){var n=c(e,t,r),i=function(e,t,r,n,i){switch(n){case w:return"backwards"==t||"both"==t?0:null;case E:return r-i;case T:return"forwards"==t||"both"==t?e:null;case S:return null}}(e,r.fill,t,n,r.delay);if(null===i)return null;var o=function(e,t,r,n,i){var o=i;return 0===e?t!==w&&(o+=r):o+=n/e,o}(r.duration,n,r.iterations,i,r.iterationStart),a=function(e,t,r,n,i,o){var a=e===1/0?t%1:e%1;return 0!==a||r!==T||0===n||0===i&&0!==o||(a=1),a}(o,r.iterationStart,n,r.iterations,i,r.duration),s=function(e,t,r,n){return e===T&&t===1/0?1/0:1===r?Math.floor(n)-1:Math.floor(n)}(n,r.iterations,a,o),u=function(e,t,r){var n=e;if("normal"!==e&&"reverse"!==e){var i=t;"alternate-reverse"===e&&(i+=1),n="normal",i!==1/0&&i%2!=0&&(n="reverse")}return"normal"===n?r:1-r}(r.direction,s,a);return r._easingFunction(u)},e.calculatePhase=c,e.normalizeEasing=s,e.parseEasingFunction=u}(e={}),function(e,t){function r(e,t){return e in u&&u[e][t]||t}function n(e,t,n){if(!function(e){return"display"===e||0===e.lastIndexOf("animation",0)||0===e.lastIndexOf("transition",0)}(e)){var i=o[e];if(i)for(var s in a.style[e]=t,i){var u=i[s],c=a.style[u];n[u]=r(u,c)}else n[e]=r(e,t)}}function i(e){var t=[];for(var r in e)if(!(r in["easing","offset","composite"])){var n=e[r];Array.isArray(n)||(n=[n]);for(var i,o=n.length,a=0;a<o;a++)(i={}).offset="offset"in e?e.offset:1==o?1:a/(o-1),"easing"in e&&(i.easing=e.easing),"composite"in e&&(i.composite=e.composite),i[r]=n[a],t.push(i)}return t.sort((function(e,t){return e.offset-t.offset})),t}var o={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},a=document.createElementNS("http://www.w3.org/1999/xhtml","div"),s={thin:"1px",medium:"3px",thick:"5px"},u={borderBottomWidth:s,borderLeftWidth:s,borderRightWidth:s,borderTopWidth:s,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:s,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};e.convertToArrayForm=i,e.normalizeKeyframes=function(t){if(null==t)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&t[Symbol.iterator]&&(t=Array.from(t)),Array.isArray(t)||(t=i(t));for(var r=t.map((function(t){var r={};for(var i in t){var o=t[i];if("offset"==i){if(null!=o){if(o=Number(o),!isFinite(o))throw new TypeError("Keyframe offsets must be numbers.");if(o<0||o>1)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==i){if("add"==o||"accumulate"==o)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=o)throw new TypeError("Invalid composite mode "+o+".")}else o="easing"==i?e.normalizeEasing(o):""+o;n(i,o,r)}return null==r.offset&&(r.offset=null),null==r.easing&&(r.easing="linear"),r})),o=!0,a=-1/0,s=0;s<r.length;s++){var u=r[s].offset;if(null!=u){if(u<a)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");a=u}else o=!1}return r=r.filter((function(e){return e.offset>=0&&e.offset<=1})),o||function(){var e=r.length;null==r[e-1].offset&&(r[e-1].offset=1),e>1&&null==r[0].offset&&(r[0].offset=0);for(var t=0,n=r[0].offset,i=1;i<e;i++){var o=r[i].offset;if(null!=o){for(var a=1;a<i-t;a++)r[t+a].offset=n+(o-n)*a/(i-t);t=i,n=o}}}(),r}}(e),function(e){var t={};e.isDeprecated=function(e,r,n,i){var o=i?"are":"is",a=new Date,s=new Date(r);return s.setMonth(s.getMonth()+3),!(a<s&&(e in t||console.warn("Web Animations: "+e+" "+o+" deprecated and will stop working on "+s.toDateString()+". "+n),t[e]=!0,1))},e.deprecated=function(t,r,n,i){var o=i?"are":"is";if(e.isDeprecated(t,r,n,i))throw new Error(t+" "+o+" no longer supported. "+n)}}(e),function(){if(document.documentElement.animate){var r=document.documentElement.animate([],0),n=!0;if(r&&(n=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach((function(e){void 0===r[e]&&(n=!0)}))),!n)return}!function(e,t,r){t.convertEffectInput=function(r){var n=function(e){for(var t={},r=0;r<e.length;r++)for(var n in e[r])if("offset"!=n&&"easing"!=n&&"composite"!=n){var i={offset:e[r].offset,easing:e[r].easing,value:e[r][n]};t[n]=t[n]||[],t[n].push(i)}for(var o in t){var a=t[o];if(0!=a[0].offset||1!=a[a.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return t}(e.normalizeKeyframes(r)),i=function(r){var n=[];for(var i in r)for(var o=r[i],a=0;a<o.length-1;a++){var s=a,u=a+1,c=o[s].offset,l=o[u].offset,d=c,f=l;0==a&&(d=-1/0,0==l&&(u=s)),a==o.length-2&&(f=1/0,1==c&&(s=u)),n.push({applyFrom:d,applyTo:f,startOffset:o[s].offset,endOffset:o[u].offset,easingFunction:e.parseEasingFunction(o[s].easing),property:i,interpolation:t.propertyInterpolation(i,o[s].value,o[u].value)})}return n.sort((function(e,t){return e.startOffset-t.startOffset})),n}(n);return function(e,r){if(null!=r)i.filter((function(e){return r>=e.applyFrom&&r<e.applyTo})).forEach((function(n){var i=r-n.startOffset,o=n.endOffset-n.startOffset,a=0==o?0:n.easingFunction(i/o);t.apply(e,n.property,n.interpolation(a))}));else for(var o in n)"offset"!=o&&"easing"!=o&&"composite"!=o&&t.clear(e,o)}}}(e,t),function(e,t,r){function n(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function i(e,t,r){o[r]=o[r]||[],o[r].push([e,t])}var o={};t.addPropertiesHandler=function(e,t,r){for(var o=0;o<r.length;o++)i(e,t,n(r[o]))};var a={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};t.propertyInterpolation=function(r,i,s){var u=r;/-/.test(r)&&!e.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(u=n(r)),"initial"!=i&&"initial"!=s||("initial"==i&&(i=a[u]),"initial"==s&&(s=a[u]));for(var c=i==s?[]:o[u],l=0;c&&l<c.length;l++){var d=c[l][0](i),f=c[l][0](s);if(void 0!==d&&void 0!==f){var h=c[l][1](d,f);if(h){var p=t.Interpolation.apply(null,h);return function(e){return 0==e?i:1==e?s:p(e)}}}}return t.Interpolation(!1,!0,(function(e){return e?s:i}))}}(e,t),function(e,t,r){t.KeyframeEffect=function(r,n,i,o){var a,s=function(t){var r=e.calculateActiveDuration(t),n=function(n){return e.calculateIterationProgress(r,n,t)};return n._totalDuration=t.delay+r+t.endDelay,n}(e.normalizeTimingInput(i)),u=t.convertEffectInput(n),c=function(){u(r,a)};return c._update=function(e){return null!==(a=s(e))},c._clear=function(){u(r,null)},c._hasSameTarget=function(e){return r===e},c._target=r,c._totalDuration=s._totalDuration,c._id=o,c}}(e,t),function(e,t){function r(e,t,r){r.enumerable=!0,r.configurable=!0,Object.defineProperty(e,t,r)}function n(e){this._element=e,this._surrogateStyle=document.createElementNS("http://www.w3.org/1999/xhtml","div").style,this._style=e.style,this._length=0,this._isAnimatedProperty={},this._updateSvgTransformAttr=function(e,t){return!(!t.namespaceURI||-1==t.namespaceURI.indexOf("/svg"))&&(o in e||(e[o]=/Trident|MSIE|IEMobile|Edge|Android 4/i.test(e.navigator.userAgent)),e[o])}(window,e),this._savedTransformAttr=null;for(var t=0;t<this._style.length;t++){var r=this._style[t];this._surrogateStyle[r]=this._style[r]}this._updateIndices()}function i(e){if(!e._webAnimationsPatchedStyle){var t=new n(e);try{r(e,"style",{get:function(){return t}})}catch(t){e.style._set=function(t,r){e.style[t]=r},e.style._clear=function(t){e.style[t]=""}}e._webAnimationsPatchedStyle=e.style}}var o="_webAnimationsUpdateSvgTransformAttr",a={cssText:1,length:1,parentRule:1},s={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1},u={removeProperty:1,setProperty:1};for(var c in n.prototype={get cssText(){return this._surrogateStyle.cssText},set cssText(e){for(var t={},r=0;r<this._surrogateStyle.length;r++)t[this._surrogateStyle[r]]=!0;for(this._surrogateStyle.cssText=e,this._updateIndices(),r=0;r<this._surrogateStyle.length;r++)t[this._surrogateStyle[r]]=!0;for(var n in t)this._isAnimatedProperty[n]||this._style.setProperty(n,this._surrogateStyle.getPropertyValue(n))},get length(){return this._surrogateStyle.length},get parentRule(){return this._style.parentRule},_updateIndices:function(){for(;this._length<this._surrogateStyle.length;)Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,get:function(e){return function(){return this._surrogateStyle[e]}}(this._length)}),this._length++;for(;this._length>this._surrogateStyle.length;)this._length--,Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,value:void 0})},_set:function(t,r){this._style[t]=r,this._isAnimatedProperty[t]=!0,this._updateSvgTransformAttr&&"transform"==e.unprefixedPropertyName(t)&&(null==this._savedTransformAttr&&(this._savedTransformAttr=this._element.getAttribute("transform")),this._element.setAttribute("transform",e.transformToSvgMatrix(r)))},_clear:function(t){this._style[t]=this._surrogateStyle[t],this._updateSvgTransformAttr&&"transform"==e.unprefixedPropertyName(t)&&(this._savedTransformAttr?this._element.setAttribute("transform",this._savedTransformAttr):this._element.removeAttribute("transform"),this._savedTransformAttr=null),delete this._isAnimatedProperty[t]}},s)n.prototype[c]=function(e,t){return function(){var r=this._surrogateStyle[e].apply(this._surrogateStyle,arguments);return t&&(this._isAnimatedProperty[arguments[0]]||this._style[e].apply(this._style,arguments),this._updateIndices()),r}}(c,c in u);for(var l in document.documentElement.style)l in a||l in s||function(e){r(n.prototype,e,{get:function(){return this._surrogateStyle[e]},set:function(t){this._surrogateStyle[e]=t,this._updateIndices(),this._isAnimatedProperty[e]||(this._style[e]=t)}})}(l);e.apply=function(t,r,n){i(t),t.style._set(e.propertyName(r),n)},e.clear=function(t,r){t._webAnimationsPatchedStyle&&t.style._clear(e.propertyName(r))}}(t),function(e){window.Element.prototype.animate=function(t,r){var n="";return r&&r.id&&(n=r.id),e.timeline._play(e.KeyframeEffect(this,t,r,n))}}(t),function(e,t){function r(e,t,n){if("number"==typeof e&&"number"==typeof t)return e*(1-n)+t*n;if("boolean"==typeof e&&"boolean"==typeof t)return n<.5?e:t;if(e.length==t.length){for(var i=[],o=0;o<e.length;o++)i.push(r(e[o],t[o],n));return i}throw"Mismatched interpolation arguments "+e+":"+t}e.Interpolation=function(e,t,n){return function(i){return n(r(e,t,i))}}}(t),function(e,t){var r=function(){function e(e,t){for(var r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],n=0;n<4;n++)for(var i=0;i<4;i++)for(var o=0;o<4;o++)r[n][i]+=t[n][o]*e[o][i];return r}return function(t,r,n,i,o){for(var a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],s=0;s<4;s++)a[s][3]=o[s];for(s=0;s<3;s++)for(var u=0;u<3;u++)a[3][s]+=t[u]*a[u][s];var c=i[0],l=i[1],d=i[2],f=i[3],h=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];h[0][0]=1-2*(l*l+d*d),h[0][1]=2*(c*l-d*f),h[0][2]=2*(c*d+l*f),h[1][0]=2*(c*l+d*f),h[1][1]=1-2*(c*c+d*d),h[1][2]=2*(l*d-c*f),h[2][0]=2*(c*d-l*f),h[2][1]=2*(l*d+c*f),h[2][2]=1-2*(c*c+l*l),a=e(a,h);var p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];for(n[2]&&(p[2][1]=n[2],a=e(a,p)),n[1]&&(p[2][1]=0,p[2][0]=n[0],a=e(a,p)),n[0]&&(p[2][0]=0,p[1][0]=n[0],a=e(a,p)),s=0;s<3;s++)for(u=0;u<3;u++)a[s][u]*=r[s];return function(e){return 0==e[0][2]&&0==e[0][3]&&0==e[1][2]&&0==e[1][3]&&0==e[2][0]&&0==e[2][1]&&1==e[2][2]&&0==e[2][3]&&0==e[3][2]&&1==e[3][3]}(a)?[a[0][0],a[0][1],a[1][0],a[1][1],a[3][0],a[3][1]]:a[0].concat(a[1],a[2],a[3])}}();e.composeMatrix=r,e.quat=function(t,r,n){var i=e.dot(t,r),o=[];if(1===(i=function(e,t,r){return Math.max(Math.min(e,1),-1)}(i)))o=t;else for(var a=Math.acos(i),s=1*Math.sin(n*a)/Math.sqrt(1-i*i),u=0;u<4;u++)o.push(t[u]*(Math.cos(n*a)-i*s)+r[u]*s);return o}}(t),function(e,t,r){e.sequenceNumber=0;var n=function(e,t,r){this.target=e,this.currentTime=t,this.timelineTime=r,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=e,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};t.Animation=function(t){this.id="",t&&t._id&&(this.id=t._id),this._sequenceNumber=e.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=t,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},t.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,t.timeline._animations.push(this))},_tickCurrentTime:function(e,t){e!=this._currentTime&&(this._currentTime=e,this._isFinished&&!t&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(e){e=+e,isNaN(e)||(t.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-e/this._playbackRate),this._currentTimePending=!1,this._currentTime!=e&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(e,!0),t.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(e){e=+e,isNaN(e)||this._paused||this._idle||(this._startTime=e,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),t.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(e){if(e!=this._playbackRate){var r=this.currentTime;this._playbackRate=e,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),t.applyDirtiedAnimation(this)),null!=r&&(this.currentTime=r)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(this._playbackRate>=0)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),t.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,t.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),t.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(e,t){"function"==typeof t&&"finish"==e&&this._finishHandlers.push(t)},removeEventListener:function(e,t){if("finish"==e){var r=this._finishHandlers.indexOf(t);r>=0&&this._finishHandlers.splice(r,1)}},_fireEvents:function(e){if(this._isFinished){if(!this._finishedFlag){var t=new n(this,this._currentTime,e),r=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout((function(){r.forEach((function(e){e.call(t.target,t)}))}),0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(e,t){this._idle||this._paused||(null==this._startTime?t&&(this.startTime=e-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((e-this._startTime)*this.playbackRate)),t&&(this._currentTimePending=!1,this._fireEvents(e))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var e=this._effect._target;return e._activeAnimations||(e._activeAnimations=[]),e._activeAnimations},_markTarget:function(){var e=this._targetAnimations();-1===e.indexOf(this)&&e.push(this)},_unmarkTarget:function(){var e=this._targetAnimations(),t=e.indexOf(this);-1!==t&&e.splice(t,1)}}}(e,t),function(e,t,r){function n(e){var t=c;c=[],e<m.currentTime&&(e=m.currentTime),m._animations.sort(i),m._animations=s(e,!0,m._animations)[0],t.forEach((function(t){t[1](e)})),a()}function i(e,t){return e._sequenceNumber-t._sequenceNumber}function o(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function a(){h.forEach((function(e){e()})),h.length=0}function s(e,r,n){p=!0,f=!1,t.timeline.currentTime=e,d=!1;var i=[],o=[],a=[],s=[];return n.forEach((function(t){t._tick(e,r),t._inEffect?(o.push(t._effect),t._markTarget()):(i.push(t._effect),t._unmarkTarget()),t._needsTick&&(d=!0);var n=t._inEffect||t._needsTick;t._inTimeline=n,n?a.push(t):s.push(t)})),h.push.apply(h,i),h.push.apply(h,o),d&&requestAnimationFrame((function(){})),p=!1,[a,s]}var u=window.requestAnimationFrame,c=[],l=0;window.requestAnimationFrame=function(e){var t=l++;return 0==c.length&&u(n),c.push([t,e]),t},window.cancelAnimationFrame=function(e){c.forEach((function(t){t[0]==e&&(t[1]=function(){})}))},o.prototype={_play:function(r){r._timing=e.normalizeTimingInput(r.timing);var n=new t.Animation(r);return n._idle=!1,n._timeline=this,this._animations.push(n),t.restart(),t.applyDirtiedAnimation(n),n}};var d=!1,f=!1;t.restart=function(){return d||(d=!0,requestAnimationFrame((function(){})),f=!0),f},t.applyDirtiedAnimation=function(e){if(!p){e._markTarget();var r=e._targetAnimations();r.sort(i),s(t.timeline.currentTime,!1,r.slice())[1].forEach((function(e){var t=m._animations.indexOf(e);-1!==t&&m._animations.splice(t,1)})),a()}};var h=[],p=!1,m=new o;t.timeline=m}(e,t),function(e,t){function r(e,t){for(var r=0,n=0;n<e.length;n++)r+=e[n]*t[n];return r}function n(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function i(e){var t=e.rad||0;return((e.deg||0)/360+(e.grad||0)/400+(e.turn||0))*(2*Math.PI)+t}function o(e){switch(e.t){case"rotatex":var t=i(e.d[0]);return[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1];case"rotatey":return t=i(e.d[0]),[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1];case"rotate":case"rotatez":return t=i(e.d[0]),[Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1,0,0,0,0,1];case"rotate3d":var r=e.d[0],n=e.d[1],o=e.d[2],a=(t=i(e.d[3]),r*r+n*n+o*o);if(0===a)r=1,n=0,o=0;else if(1!==a){var s=Math.sqrt(a);r/=s,n/=s,o/=s}var u=Math.sin(t/2),c=u*Math.cos(t/2),l=u*u;return[1-2*(n*n+o*o)*l,2*(r*n*l+o*c),2*(r*o*l-n*c),0,2*(r*n*l-o*c),1-2*(r*r+o*o)*l,2*(n*o*l+r*c),0,2*(r*o*l+n*c),2*(n*o*l-r*c),1-2*(r*r+n*n)*l,0,0,0,0,1];case"scale":return[e.d[0],0,0,0,0,e.d[1],0,0,0,0,1,0,0,0,0,1];case"scalex":return[e.d[0],0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,e.d[0],0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,e.d[0],0,0,0,0,1];case"scale3d":return[e.d[0],0,0,0,0,e.d[1],0,0,0,0,e.d[2],0,0,0,0,1];case"skew":var d=i(e.d[0]),f=i(e.d[1]);return[1,Math.tan(f),0,0,Math.tan(d),1,0,0,0,0,1,0,0,0,0,1];case"skewx":return t=i(e.d[0]),[1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1];case"skewy":return t=i(e.d[0]),[1,Math.tan(t),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,r=e.d[0].px||0,n=e.d[1].px||0,0,1];case"translatex":return[1,0,0,0,0,1,0,0,0,0,1,0,r=e.d[0].px||0,0,0,1];case"translatey":return[1,0,0,0,0,1,0,0,0,0,1,0,0,n=e.d[0].px||0,0,1];case"translatez":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,o=e.d[0].px||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,r=e.d[0].px||0,n=e.d[1].px||0,o=e.d[2].px||0,1];case"perspective":return[1,0,0,0,0,1,0,0,0,0,1,e.d[0].px?-1/e.d[0].px:0,0,0,0,1];case"matrix":return[e.d[0],e.d[1],0,0,e.d[2],e.d[3],0,0,0,0,1,0,e.d[4],e.d[5],0,1];case"matrix3d":return e.d}}function a(e){return 0===e.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(o).reduce(n)}var s=function(){function e(e){return e[0][0]*e[1][1]*e[2][2]+e[1][0]*e[2][1]*e[0][2]+e[2][0]*e[0][1]*e[1][2]-e[0][2]*e[1][1]*e[2][0]-e[1][2]*e[2][1]*e[0][0]-e[2][2]*e[0][1]*e[1][0]}function t(e){var t=n(e);return[e[0]/t,e[1]/t,e[2]/t]}function n(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}function i(e,t,r,n){return[r*e[0]+n*t[0],r*e[1]+n*t[1],r*e[2]+n*t[2]]}return function(o){var a=[o.slice(0,4),o.slice(4,8),o.slice(8,12),o.slice(12,16)];if(1!==a[3][3])return null;for(var s=[],u=0;u<4;u++)s.push(a[u].slice());for(u=0;u<3;u++)s[u][3]=0;if(0===e(s))return null;var c,l=[];a[0][3]||a[1][3]||a[2][3]?(l.push(a[0][3]),l.push(a[1][3]),l.push(a[2][3]),l.push(a[3][3]),c=function(e,t){for(var r=[],n=0;n<4;n++){for(var i=0,o=0;o<4;o++)i+=e[o]*t[o][n];r.push(i)}return r}(l,function(e){return[[e[0][0],e[1][0],e[2][0],e[3][0]],[e[0][1],e[1][1],e[2][1],e[3][1]],[e[0][2],e[1][2],e[2][2],e[3][2]],[e[0][3],e[1][3],e[2][3],e[3][3]]]}(function(t){for(var r=1/e(t),n=t[0][0],i=t[0][1],o=t[0][2],a=t[1][0],s=t[1][1],u=t[1][2],c=t[2][0],l=t[2][1],d=t[2][2],f=[[(s*d-u*l)*r,(o*l-i*d)*r,(i*u-o*s)*r,0],[(u*c-a*d)*r,(n*d-o*c)*r,(o*a-n*u)*r,0],[(a*l-s*c)*r,(c*i-n*l)*r,(n*s-i*a)*r,0]],h=[],p=0;p<3;p++){for(var m=0,g=0;g<3;g++)m+=t[3][g]*f[g][p];h.push(m)}return h.push(1),f.push(h),f}(s)))):c=[0,0,0,1];var d=a[3].slice(0,3),f=[];f.push(a[0].slice(0,3));var h=[];h.push(n(f[0])),f[0]=t(f[0]);var p=[];f.push(a[1].slice(0,3)),p.push(r(f[0],f[1])),f[1]=i(f[1],f[0],1,-p[0]),h.push(n(f[1])),f[1]=t(f[1]),p[0]/=h[1],f.push(a[2].slice(0,3)),p.push(r(f[0],f[2])),f[2]=i(f[2],f[0],1,-p[1]),p.push(r(f[1],f[2])),f[2]=i(f[2],f[1],1,-p[2]),h.push(n(f[2])),f[2]=t(f[2]),p[1]/=h[2],p[2]/=h[2];var m=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}(f[1],f[2]);if(r(f[0],m)<0)for(u=0;u<3;u++)h[u]*=-1,f[u][0]*=-1,f[u][1]*=-1,f[u][2]*=-1;var g,v,y=f[0][0]+f[1][1]+f[2][2]+1;return y>1e-4?(g=.5/Math.sqrt(y),v=[(f[2][1]-f[1][2])*g,(f[0][2]-f[2][0])*g,(f[1][0]-f[0][1])*g,.25/g]):f[0][0]>f[1][1]&&f[0][0]>f[2][2]?v=[.25*(g=2*Math.sqrt(1+f[0][0]-f[1][1]-f[2][2])),(f[0][1]+f[1][0])/g,(f[0][2]+f[2][0])/g,(f[2][1]-f[1][2])/g]:f[1][1]>f[2][2]?(g=2*Math.sqrt(1+f[1][1]-f[0][0]-f[2][2]),v=[(f[0][1]+f[1][0])/g,.25*g,(f[1][2]+f[2][1])/g,(f[0][2]-f[2][0])/g]):(g=2*Math.sqrt(1+f[2][2]-f[0][0]-f[1][1]),v=[(f[0][2]+f[2][0])/g,(f[1][2]+f[2][1])/g,.25*g,(f[1][0]-f[0][1])/g]),[d,h,p,v,c]}}();e.dot=r,e.makeMatrixDecomposition=function(e){return[s(a(e))]},e.transformListToMatrix=a}(t),function(e){function t(e,t){var r=e.exec(t);if(r)return[r=e.ignoreCase?r[0].toLowerCase():r[0],t.substr(r.length)]}function r(e,t){var r=e(t=t.replace(/^\s*/,""));if(r)return[r[0],r[1].replace(/^\s*/,"")]}function n(e,t,r,n,i){for(var o=[],a=[],s=[],u=function(e,t){for(var r=e,n=t;r&&n;)r>n?r%=n:n%=r;return e*t/(r+n)}(n.length,i.length),c=0;c<u;c++){var l=t(n[c%n.length],i[c%i.length]);if(!l)return;o.push(l[0]),a.push(l[1]),s.push(l[2])}return[o,a,function(t){var n=t.map((function(e,t){return s[t](e)})).join(r);return e?e(n):n}]}e.consumeToken=t,e.consumeTrimmed=r,e.consumeRepeated=function(e,n,i){e=r.bind(null,e);for(var o=[];;){var a=e(i);if(!a)return[o,i];if(o.push(a[0]),!(a=t(n,i=a[1]))||""==a[1])return[o,i];i=a[1]}},e.consumeParenthesised=function(e,t){for(var r=0,n=0;n<t.length&&(!/\s|,/.test(t[n])||0!=r);n++)if("("==t[n])r++;else if(")"==t[n]&&(0==--r&&n++,r<=0))break;var i=e(t.substr(0,n));return null==i?void 0:[i,t.substr(n)]},e.ignore=function(e){return function(t){var r=e(t);return r&&(r[0]=void 0),r}},e.optional=function(e,t){return function(r){return e(r)||[t,r]}},e.consumeList=function(t,r){for(var n=[],i=0;i<t.length;i++){var o=e.consumeTrimmed(t[i],r);if(!o||""==o[0])return;void 0!==o[0]&&n.push(o[0]),r=o[1]}if(""==r)return n},e.mergeNestedRepeated=n.bind(null,null),e.mergeWrappedNestedRepeated=n,e.mergeList=function(e,t,r){for(var n=[],i=[],o=[],a=0,s=0;s<r.length;s++)if("function"==typeof r[s]){var u=r[s](e[a],t[a++]);n.push(u[0]),i.push(u[1]),o.push(u[2])}else!function(e){n.push(!1),i.push(!1),o.push((function(){return r[e]}))}(s);return[n,i,function(e){for(var t="",r=0;r<e.length;r++)t+=o[r](e[r]);return t}]}}(t),function(e){function t(t){var r={inset:!1,lengths:[],color:null},n=e.consumeRepeated((function(t){var n=e.consumeToken(/^inset/i,t);return n?(r.inset=!0,n):(n=e.consumeLengthOrPercent(t))?(r.lengths.push(n[0]),n):(n=e.consumeColor(t))?(r.color=n[0],n):void 0}),/^/,t);if(n&&n[0].length)return[r,n[1]]}var r=function(t,r,n,i){function o(e){return{inset:e,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var a=[],s=[],u=0;u<n.length||u<i.length;u++){var c=n[u]||o(i[u].inset),l=i[u]||o(n[u].inset);a.push(c),s.push(l)}return e.mergeNestedRepeated(t,r,a,s)}.bind(null,(function(t,r){for(;t.lengths.length<Math.max(t.lengths.length,r.lengths.length);)t.lengths.push({px:0});for(;r.lengths.length<Math.max(t.lengths.length,r.lengths.length);)r.lengths.push({px:0});if(t.inset==r.inset&&!!t.color==!!r.color){for(var n,i=[],o=[[],0],a=[[],0],s=0;s<t.lengths.length;s++){var u=e.mergeDimensions(t.lengths[s],r.lengths[s],2==s);o[0].push(u[0]),a[0].push(u[1]),i.push(u[2])}if(t.color&&r.color){var c=e.mergeColors(t.color,r.color);o[1]=c[0],a[1]=c[1],n=c[2]}return[o,a,function(e){for(var r=t.inset?"inset ":" ",o=0;o<i.length;o++)r+=i[o](e[0][o])+" ";return n&&(r+=n(e[1])),r}]}}),", ");e.addPropertiesHandler((function(r){var n=e.consumeRepeated(t,/^,/,r);if(n&&""==n[1])return n[0]}),r,["box-shadow","text-shadow"])}(t),function(e,t){function r(e){return e.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function n(e,t,r){return Math.min(t,Math.max(e,r))}function i(e){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(e))return Number(e)}function o(e,t){return function(i,o){return[i,o,function(i){return r(n(e,t,i))}]}}function a(e){var t=e.trim().split(/\s*[\s,]\s*/);if(0!==t.length){for(var r=[],n=0;n<t.length;n++){var o=i(t[n]);if(void 0===o)return;r.push(o)}return r}}e.clamp=n,e.addPropertiesHandler(a,(function(e,t){if(e.length==t.length)return[e,t,function(e){return e.map(r).join(" ")}]}),["stroke-dasharray"]),e.addPropertiesHandler(i,o(0,1/0),["border-image-width","line-height"]),e.addPropertiesHandler(i,o(0,1),["opacity","shape-image-threshold"]),e.addPropertiesHandler(i,(function(e,t){if(0!=e)return o(0,1/0)(e,t)}),["flex-grow","flex-shrink"]),e.addPropertiesHandler(i,(function(e,t){return[e,t,function(e){return Math.round(n(1,1/0,e))}]}),["orphans","widows"]),e.addPropertiesHandler(i,(function(e,t){return[e,t,Math.round]}),["z-index"]),e.parseNumber=i,e.parseNumberList=a,e.mergeNumbers=function(e,t){return[e,t,r]},e.numberToString=r}(t),function(e,t){e.addPropertiesHandler(String,(function(e,t){if("visible"==e||"visible"==t)return[0,1,function(r){return r<=0?e:r>=1?t:"visible"}]}),["visibility"])}(t),function(e,t){function r(e){e=e.trim(),o.fillStyle="#000",o.fillStyle=e;var t=o.fillStyle;if(o.fillStyle="#fff",o.fillStyle=e,t==o.fillStyle){o.fillRect(0,0,1,1);var r=o.getImageData(0,0,1,1).data;o.clearRect(0,0,1,1);var n=r[3]/255;return[r[0]*n,r[1]*n,r[2]*n,n]}}function n(t,r){return[t,r,function(t){function r(e){return Math.max(0,Math.min(255,e))}if(t[3])for(var n=0;n<3;n++)t[n]=Math.round(r(t[n]/t[3]));return t[3]=e.numberToString(e.clamp(0,1,t[3])),"rgba("+t.join(",")+")"}]}var i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=i.height=1;var o=i.getContext("2d");e.addPropertiesHandler(r,n,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),e.consumeColor=e.consumeParenthesised.bind(null,r),e.mergeColors=n}(t),function(e,t){function r(e){function t(){var t=a.exec(e);o=t?t[0]:void 0}function r(){if("("!==o)return function(){var e=Number(o);return t(),e}();t();var e=i();return")"!==o?NaN:(t(),e)}function n(){for(var e=r();"*"===o||"/"===o;){var n=o;t();var i=r();"*"===n?e*=i:e/=i}return e}function i(){for(var e=n();"+"===o||"-"===o;){var r=o;t();var i=n();"+"===r?e+=i:e-=i}return e}var o,a=/([\+\-\w\.]+|[\(\)\*\/])/g;return t(),i()}function n(e,t){if("0"==(t=t.trim().toLowerCase())&&"px".search(e)>=0)return{px:0};if(/^[^(]*$|^calc/.test(t)){t=t.replace(/calc\(/g,"(");var n={};t=t.replace(e,(function(e){return n[e]=null,"U"+e}));for(var i="U("+e.source+")",o=t.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+i,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),a=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],s=0;s<a.length;)a[s].test(o)?(o=o.replace(a[s],"$1"),s=0):s++;if("D"==o){for(var u in n){var c=r(t.replace(new RegExp("U"+u,"g"),"").replace(new RegExp(i,"g"),"*0"));if(!isFinite(c))return;n[u]=c}return n}}}function i(e,t){return o(e,t,!0)}function o(t,r,n){var i,o=[];for(i in t)o.push(i);for(i in r)o.indexOf(i)<0&&o.push(i);return t=o.map((function(e){return t[e]||0})),r=o.map((function(e){return r[e]||0})),[t,r,function(t){var r=t.map((function(r,i){return 1==t.length&&n&&(r=Math.max(r,0)),e.numberToString(r)+o[i]})).join(" + ");return t.length>1?"calc("+r+")":r}]}var a="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",s=n.bind(null,new RegExp(a,"g")),u=n.bind(null,new RegExp(a+"|%","g")),c=n.bind(null,/deg|rad|grad|turn/g);e.parseLength=s,e.parseLengthOrPercent=u,e.consumeLengthOrPercent=e.consumeParenthesised.bind(null,u),e.parseAngle=c,e.mergeDimensions=o;var l=e.consumeParenthesised.bind(null,s),d=e.consumeRepeated.bind(void 0,l,/^/),f=e.consumeRepeated.bind(void 0,d,/^,/);e.consumeSizePairList=f;var h=e.mergeNestedRepeated.bind(void 0,i," "),p=e.mergeNestedRepeated.bind(void 0,h,",");e.mergeNonNegativeSizePair=h,e.addPropertiesHandler((function(e){var t=f(e);if(t&&""==t[1])return t[0]}),p,["background-size"]),e.addPropertiesHandler(u,i,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),e.addPropertiesHandler(u,o,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(t),function(e,t){function r(t){return e.consumeLengthOrPercent(t)||e.consumeToken(/^auto/,t)}function n(t){var n=e.consumeList([e.ignore(e.consumeToken.bind(null,/^rect/)),e.ignore(e.consumeToken.bind(null,/^\(/)),e.consumeRepeated.bind(null,r,/^,/),e.ignore(e.consumeToken.bind(null,/^\)/))],t);if(n&&4==n[0].length)return n[0]}var i=e.mergeWrappedNestedRepeated.bind(null,(function(e){return"rect("+e+")"}),(function(t,r){return"auto"==t||"auto"==r?[!0,!1,function(n){var i=n?t:r;if("auto"==i)return"auto";var o=e.mergeDimensions(i,i);return o[2](o[0])}]:e.mergeDimensions(t,r)}),", ");e.parseBox=n,e.mergeBoxes=i,e.addPropertiesHandler(n,i,["clip"])}(t),function(e,t){function r(e){return function(t){var r=0;return e.map((function(e){return e===c?t[r++]:e}))}}function n(e){return e}function i(t){if("none"==(t=t.toLowerCase().trim()))return[];for(var r,n=/\s*(\w+)\(([^)]*)\)/g,i=[],o=0;r=n.exec(t);){if(r.index!=o)return;o=r.index+r[0].length;var a=r[1],s=f[a];if(!s)return;var u=r[2].split(","),c=s[0];if(c.length<u.length)return;for(var h=[],p=0;p<c.length;p++){var m,g=u[p],v=c[p];if(void 0===(m=g?{A:function(t){return"0"==t.trim()?d:e.parseAngle(t)},N:e.parseNumber,T:e.parseLengthOrPercent,L:e.parseLength}[v.toUpperCase()](g):{a:d,n:h[0],t:l}[v]))return;h.push(m)}if(i.push({t:a,d:h}),n.lastIndex==t.length)return i}}function o(e){return e.toFixed(6).replace(".000000","")}function a(t,r){if(t.decompositionPair!==r){t.decompositionPair=r;var n=e.makeMatrixDecomposition(t)}if(r.decompositionPair!==t){r.decompositionPair=t;var i=e.makeMatrixDecomposition(r)}return null==n[0]||null==i[0]?[[!1],[!0],function(e){return e?r[0].d:t[0].d}]:(n[0].push(0),i[0].push(1),[n,i,function(t){var r=e.quat(n[0][3],i[0][3],t[5]);return e.composeMatrix(t[0],t[1],t[2],r,t[4]).map(o).join(",")}])}function s(e){return e.replace(/[xy]/,"")}function u(e){return e.replace(/(x|y|z|3d)?$/,"3d")}var c=null,l={px:0},d={deg:0},f={matrix:["NNNNNN",[c,c,0,0,c,c,0,0,0,0,1,0,c,c,0,1],n],matrix3d:["NNNNNNNNNNNNNNNN",n],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",r([c,c,1]),n],scalex:["N",r([c,1,1]),r([c,1])],scaley:["N",r([1,c,1]),r([1,c])],scalez:["N",r([1,1,c])],scale3d:["NNN",n],skew:["Aa",null,n],skewx:["A",null,r([c,d])],skewy:["A",null,r([d,c])],translate:["Tt",r([c,c,l]),n],translatex:["T",r([c,l,l]),r([c,l])],translatey:["T",r([l,c,l]),r([l,c])],translatez:["L",r([l,l,c])],translate3d:["TTL",n]};e.addPropertiesHandler(i,(function(t,r){var n=e.makeMatrixDecomposition&&!0,i=!1;if(!t.length||!r.length){t.length||(i=!0,t=r,r=[]);for(var o=0;o<t.length;o++){var c=t[o].t,l=t[o].d,d="scale"==c.substr(0,5)?1:0;r.push({t:c,d:l.map((function(e){if("number"==typeof e)return d;var t={};for(var r in e)t[r]=d;return t}))})}}var h=function(e,t){return"perspective"==e&&"perspective"==t||("matrix"==e||"matrix3d"==e)&&("matrix"==t||"matrix3d"==t)},p=[],m=[],g=[];if(t.length!=r.length){if(!n)return;p=[(w=a(t,r))[0]],m=[w[1]],g=[["matrix",[w[2]]]]}else for(o=0;o<t.length;o++){var v=t[o].t,y=r[o].t,b=t[o].d,_=r[o].d,x=f[v],S=f[y];if(h(v,y)){if(!n)return;var w=a([t[o]],[r[o]]);p.push(w[0]),m.push(w[1]),g.push(["matrix",[w[2]]])}else{if(v==y)c=v;else if(x[2]&&S[2]&&s(v)==s(y))c=s(v),b=x[2](b),_=S[2](_);else{if(!x[1]||!S[1]||u(v)!=u(y)){if(!n)return;p=[(w=a(t,r))[0]],m=[w[1]],g=[["matrix",[w[2]]]];break}c=u(v),b=x[1](b),_=S[1](_)}for(var T=[],E=[],R=[],k=0;k<b.length;k++)w=("number"==typeof b[k]?e.mergeNumbers:e.mergeDimensions)(b[k],_[k]),T[k]=w[0],E[k]=w[1],R.push(w[2]);p.push(T),m.push(E),g.push([c,R])}}if(i){var A=p;p=m,m=A}return[p,m,function(e){return e.map((function(e,t){var r=e.map((function(e,r){return g[t][1][r](e)})).join(",");return"matrix"==g[t][0]&&16==r.split(",").length&&(g[t][0]="matrix3d"),g[t][0]+"("+r+")"})).join(" ")}]}),["transform"]),e.transformToSvgMatrix=function(t){var r=e.transformListToMatrix(i(t));return"matrix("+o(r[0])+" "+o(r[1])+" "+o(r[4])+" "+o(r[5])+" "+o(r[12])+" "+o(r[13])+")"}}(t),function(e){function t(t){return t=100*Math.round(t/100),400===(t=e.clamp(100,900,t))?"normal":700===t?"bold":String(t)}e.addPropertiesHandler((function(e){var t=Number(e);if(!(isNaN(t)||t<100||t>900||t%100!=0))return t}),(function(e,r){return[e,r,t]}),["font-weight"])}(t),function(e){function t(e){var t={};for(var r in e)t[r]=-e[r];return t}function r(t){return e.consumeToken(/^(left|center|right|top|bottom)\b/i,t)||e.consumeLengthOrPercent(t)}function n(t,n){var i=e.consumeRepeated(r,/^/,n);if(i&&""==i[1]){var a=i[0];if(a[0]=a[0]||"center",a[1]=a[1]||"center",3==t&&(a[2]=a[2]||{px:0}),a.length==t){if(/top|bottom/.test(a[0])||/left|right/.test(a[1])){var s=a[0];a[0]=a[1],a[1]=s}if(/left|right|center|Object/.test(a[0])&&/top|bottom|center|Object/.test(a[1]))return a.map((function(e){return"object"==typeof e?e:o[e]}))}}}function i(n){var i=e.consumeRepeated(r,/^/,n);if(i){for(var a=i[0],s=[{"%":50},{"%":50}],u=0,c=!1,l=0;l<a.length;l++){var d=a[l];"string"==typeof d?(c=/bottom|right/.test(d),s[u={left:0,right:0,center:u,top:1,bottom:1}[d]]=o[d],"center"==d&&u++):(c&&((d=t(d))["%"]=(d["%"]||0)+100),s[u]=d,u++,c=!1)}return[s,i[1]]}}var o={left:{"%":0},center:{"%":50},right:{"%":100},top:{"%":0},bottom:{"%":100}},a=e.mergeNestedRepeated.bind(null,e.mergeDimensions," ");e.addPropertiesHandler(n.bind(null,3),a,["transform-origin"]),e.addPropertiesHandler(n.bind(null,2),a,["perspective-origin"]),e.consumePosition=i,e.mergeOffsetList=a;var s=e.mergeNestedRepeated.bind(null,a,", ");e.addPropertiesHandler((function(t){var r=e.consumeRepeated(i,/^,/,t);if(r&&""==r[1])return r[0]}),s,["background-position","object-position"])}(t),function(e){var t=e.consumeParenthesised.bind(null,e.parseLengthOrPercent),r=e.consumeRepeated.bind(void 0,t,/^/),n=e.mergeNestedRepeated.bind(void 0,e.mergeDimensions," "),i=e.mergeNestedRepeated.bind(void 0,n,",");e.addPropertiesHandler((function(n){var i=e.consumeToken(/^circle/,n);if(i&&i[0])return["circle"].concat(e.consumeList([e.ignore(e.consumeToken.bind(void 0,/^\(/)),t,e.ignore(e.consumeToken.bind(void 0,/^at/)),e.consumePosition,e.ignore(e.consumeToken.bind(void 0,/^\)/))],i[1]));var o=e.consumeToken(/^ellipse/,n);if(o&&o[0])return["ellipse"].concat(e.consumeList([e.ignore(e.consumeToken.bind(void 0,/^\(/)),r,e.ignore(e.consumeToken.bind(void 0,/^at/)),e.consumePosition,e.ignore(e.consumeToken.bind(void 0,/^\)/))],o[1]));var a=e.consumeToken(/^polygon/,n);return a&&a[0]?["polygon"].concat(e.consumeList([e.ignore(e.consumeToken.bind(void 0,/^\(/)),e.optional(e.consumeToken.bind(void 0,/^nonzero\s*,|^evenodd\s*,/),"nonzero,"),e.consumeSizePairList,e.ignore(e.consumeToken.bind(void 0,/^\)/))],a[1])):void 0}),(function(t,r){if(t[0]===r[0])return"circle"==t[0]?e.mergeList(t.slice(1),r.slice(1),["circle(",e.mergeDimensions," at ",e.mergeOffsetList,")"]):"ellipse"==t[0]?e.mergeList(t.slice(1),r.slice(1),["ellipse(",e.mergeNonNegativeSizePair," at ",e.mergeOffsetList,")"]):"polygon"==t[0]&&t[1]==r[1]?e.mergeList(t.slice(2),r.slice(2),["polygon(",t[1],i,")"]):void 0}),["shape-outside"])}(t),function(e,t){function r(e,t){t.concat([e]).forEach((function(t){t in document.documentElement.style&&(n[e]=t),i[t]=e}))}var n={},i={};r("transform",["webkitTransform","msTransform"]),r("transformOrigin",["webkitTransformOrigin"]),r("perspective",["webkitPerspective"]),r("perspectiveOrigin",["webkitPerspectiveOrigin"]),e.propertyName=function(e){return n[e]||e},e.unprefixedPropertyName=function(e){return i[e]||e}}(t)}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){if(window.performance&&performance.now)var e=function(){return performance.now()};else e=function(){return Date.now()};var t=function(e,t,r){this.target=e,this.currentTime=t,this.timelineTime=r,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=e,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},r=window.Element.prototype.animate;window.Element.prototype.animate=function(n,i){var o=r.call(this,n,i);o._cancelHandlers=[],o.oncancel=null;var a=o.cancel;o.cancel=function(){a.call(this);var r=new t(this,null,e()),n=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout((function(){n.forEach((function(e){e.call(r.target,r)}))}),0)};var s=o.addEventListener;o.addEventListener=function(e,t){"function"==typeof t&&"cancel"==e?this._cancelHandlers.push(t):s.call(this,e,t)};var u=o.removeEventListener;return o.removeEventListener=function(e,t){if("cancel"==e){var r=this._cancelHandlers.indexOf(t);r>=0&&this._cancelHandlers.splice(r,1)}else u.call(this,e,t)},o}}}(),function(e){var t=document.documentElement,r=null,n=!1;try{var i="0"==getComputedStyle(t).getPropertyValue("opacity")?"1":"0";(r=t.animate({opacity:[i,i]},{duration:1})).currentTime=0,n=getComputedStyle(t).getPropertyValue("opacity")==i}catch(e){}finally{r&&r.cancel()}if(!n){var o=window.Element.prototype.animate;window.Element.prototype.animate=function(t,r){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&t[Symbol.iterator]&&(t=Array.from(t)),Array.isArray(t)||null===t||(t=e.convertToArrayForm(t)),o.call(this,t,r)}}}(e)}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var n={};!function(){"use strict";r.d(n,{Bk:function(){return s},an:function(){return a},R7:function(){return h},Z8:function(){return g},yD:function(){return c}}),r(4124);var e=[{path:"",init(){g()}},{path:"index.html",init(){g()}},{path:"Rezepte.html",init(){s(".recipes","all")}},{path:"Meine_Rezepte.html",init(){s(".recipes","local")}},{path:"Lieblingsrezepte.html",init(){s(".recipes","favourised")}},{path:"Rezept.html",init(){c()}},{path:"Rezept_Bearbeiten.html",init(){h()}}];r(5306);const t=class{constructor(e){this.name="",this.identifier="",this.thumbnail=!1,this.titleimage=!1,this.cookingTime=0,this.difficulty=0,this.diets=[],this.ingredients=[],this.steps=[],this.published=0,this.favourisations=0,this.favourised=!1,Object.assign(this,e)}openViewer(){router.loadRoute("Rezept.html",this.identifier)}favourise(){let e=JSON.parse(localStorage.favourites);return this.favourised=!this.favourised,this.favourised?e.push(this.identifier):e=e.filter((e=>e!==this.identifier)),localStorage.favourites=JSON.stringify(e),console.log(`${this.name} favourisation is: ${this.favourised}`,this.favourisations+this.favourised),this}},i=class extends t{openEditor(){router.loadRoute("Rezept_Bearbeiten.html",this.identifier)}delete(){console.log(this.name,"is removed"),this.favourised&&this.favourise(),recipes.local=recipes.local.filter((e=>e.identifier!==this.identifier)),recipes.updateLocalRecipes(),initializedlocalRecipeImages.then((()=>{localRecipeImages.transaction("imagesStore","readwrite").objectStore("imagesStore").delete(this.identifier)}))}save(e){let t=JSON.parse(localStorage.favourites);this.favourised&&(t=t.filter((e=>e!==this.identifier))),Object.assign(this,e),this.source="localStorage",recipes.local=recipes.local.filter((e=>e.identifier!==this.identifier));const r="Mein_Rezept_"+this.name.toLowerCase().replace(/\s+/g,"");let n=0,i=r;for(;recipes.local.find((e=>e.identifier===i));)n++,i=r+n;return this.identifier=i,this.favourised&&t.push(this.identifier),localStorage.favourites=JSON.stringify(t),recipes.local.push(this),console.log(this.name,"is saved"),recipes.updateLocalRecipes(),this}};var o=class{constructor(e,t,r){this.targetSelector=e,this.recipelist=t||recipes.all,this.config=Object.assign({autoUpdate:!0},r),this._order="relevancy",this._searchvalue="",this._maxCookingTime="",this._difficulty=0,this._diets=[],this.config.autoUpdate&&this.render()}render(){const e=document.createDocumentFragment();let t=this.recipelist.filtrate({searchvalue:this._searchvalue,maxCookingTime:this._maxCookingTime,difficulty:this._difficulty,diets:this._diets}).order(this._order);this.config.length&&(t=t.slice(0,this.config.length)),t.forEach((t=>{const r=document.getElementById("recipeArticle").content.cloneNode(!0);r.querySelector("a").href="Rezept.html#"+t.identifier;const n=[320,480,640,960,1280],i={alt:t.name,formats:["avif","webp","jpeg"],sizes:"(min-width: 65rem) calc((60rem - 2rem) / 3), (min-width: 50rem) calc((100vw - 4rem) / 3), calc((100vw - 3rem) / 2)"};if(t.thumbnail?(i.src=`assets/recipes/${t.identifier}/thumbnails/${n[0]}.jpeg`,i.srcset=i.formats.map((e=>n.map((r=>`assets/recipes/${t.identifier}/thumbnails/${r}.${e} ${r}w`)).join(", ")))):(i.src=`assets/thumbnails/${n[0]}.jpeg`,i.srcset=i.formats.map((e=>n.map((t=>`assets/thumbnails/${t}.${e} ${t}w`)).join(", ")))),"JSONFile"===t.source)r.querySelector("a").appendChild(a(i));else if(t.titleimage){const e=r.querySelector("a");initializedlocalRecipeImages.then((()=>{localRecipeImages.transaction("imagesStore","readonly").objectStore("imagesStore").get(t.identifier).onsuccess=t=>{if(!t.target.result)return;const r=document.createElement("img");r.setAttribute("alt",i.alt),r.setAttribute("src",t.target.result.titleimageDataURL),e.appendChild(r)}}))}else r.querySelector("a").appendChild(a(i));r.querySelector("span").innerText=t.name,e.appendChild(r)})),document.querySelector(this.targetSelector).innerHTML="",document.querySelector(this.targetSelector).appendChild(e)}set order(e){this._order=e,this.config.autoUpdate&&this.render()}set searchvalue(e){this._searchvalue=e,this.config.autoUpdate&&this.render()}set maxCookingTime(e){this._maxCookingTime=e,this.config.autoUpdate&&this.render()}set difficulty(e){this._difficulty=e,this.config.autoUpdate&&this.render()}set diets(e){this._diets=e,this.config.autoUpdate&&this.render()}};window.router=new class{constructor(e){this.routes=e;const t=this.matchPathnameToRoute(window.decodeURI(window.location.pathname));this.updateRouterOutlet(t),window.addEventListener("popstate",(()=>{const e=this.matchPathnameToRoute(window.decodeURI(window.location.pathname));this.updateRouterOutlet(e)})),window.addEventListener("click",(e=>{let t=e.target;for(;t&&"A"!==t.tagName;)t=t.parentNode;if(t&&t.matches("a:not([href*='://'])")&&t.href){const{altKey:r,ctrlKey:n,metaKey:i,shiftKey:o,button:a,defaultPrevented:s}=e;if(r||n||i||o)return;if(s)return;if(void 0!==a&&0!==a)return;if(t&&t.getAttribute){const e=t.getAttribute("target");if(/\b_blank\b/i.test(e))return}e.preventDefault();let u="";t.href.includes("#")&&(u=t.href.split("#").pop()),this.loadRoute(t.pathname,u)}}))}matchPathnameToRoute(e){let t=e;return t.startsWith("/")&&(t=t.substring(1)),t.startsWith("Rezeptmeister")&&(t=t.substring(t.indexOf("/")+1)),this.routes.find((e=>e.path.replace(/^\//,"")===t.replace(/^\//,"")))}loadRoute(e,t){const r=this.matchPathnameToRoute(e);let n=r.path;t&&(n=r.path+"#"+t),history.pushState({},"",n),this.updateRouterOutlet(r)}async updateRouterOutlet(e){const t=document.querySelector("main"),r={transform:["translateY(-5px)","translateY(0px)"],opacity:[0,1]},n={duration:150,fill:"forwards",easing:"ease"};t.animate(r,{...n,direction:"reverse"});const i=new Promise((e=>setTimeout((()=>e()),200))).then((()=>{document.querySelector("body").removeAttribute("data-shownav"),document.querySelector("body").removeAttribute("data-showModal"),document.querySelector("body").removeAttribute("data-loaded"),document.querySelector("main").removeAttribute("data-showFilters"),document.querySelector("main").removeAttribute("data-showOrderBy"),t.scrollTo(0,0)})),o=await fetch(e.path),a=await o.text(),s=(new DOMParser).parseFromString(a,"text/html");await i,t.innerHTML=s.querySelector("main").innerHTML,document.title=s.querySelector("title").innerHTML,document.querySelector("body").setAttribute("data-loaded",""),t.animate(r,n),await initialized,e.init()}}(e),document.querySelector(".navtoggle").addEventListener("click",(()=>{document.querySelector("body").toggleAttribute("data-shownav")})),document.querySelector("main").addEventListener("change",(e=>{const t=e.target.closest("label");"radio"===e.target.type?(t.parentElement.querySelectorAll("label").forEach((e=>e.removeAttribute("data-checked"))),e.target.checked&&t.setAttribute("data-checked","")):"checkbox"===e.target.type&&(e.target.checked?t.setAttribute("data-checked",""):t.removeAttribute("data-checked"))})),document.querySelector("main").addEventListener("click",(e=>{if(!e.target.closest("button[data-reset], button[data-remove]"))return;const t=e.target.closest("button");t.hasAttribute("data-reset")?t.parentElement.querySelectorAll("input").forEach((e=>{if(!e.checked)return;e.checked=!1,e.parentElement.removeAttribute("data-checked");const t=new Event("change",{bubbles:!0});e.dispatchEvent(t)})):t.hasAttribute("data-remove")&&t.parentElement.remove()}));const a=e=>{const t=document.createElement("picture");e.formats.forEach(((r,n)=>{const i=document.createElement("source");i.setAttribute("type",`image/${r}`),i.setAttribute("srcset",e.srcset[n]),i.setAttribute("sizes",e.sizes),t.appendChild(i)}));const r=document.createElement("img");return r.setAttribute("alt",e.alt),r.setAttribute("src",e.src),t.appendChild(r),t},s=(e,t)=>{document.querySelector(".controls").addEventListener("click",(e=>{if(!e.target.closest("button"))return;const t=e.target.closest("button");t.classList.contains("filter")?(document.querySelector("main").toggleAttribute("data-showFilters"),document.querySelector("main").removeAttribute("data-showOrderBy")):t.classList.contains("order")?(document.querySelector("main").toggleAttribute("data-showOrderBy"),document.querySelector("main").removeAttribute("data-showFilters")):t.classList.contains("newRecipe")&&(console.log("created new recipe"),new i({name:"Neues Rezept",published:(new Date).getTime()}).save().favourise().openEditor())}));const r=new o(e,recipes[t]);document.querySelector('input[name="search"]').addEventListener("keyup",(e=>{"Enter"===e.key&&13===e.keyCode&&(r.searchvalue=e.target.value)})),document.querySelector(".filters").addEventListener("change",(e=>{"maxCookingTime"===e.target.name&&e.target.checked&&(r.maxCookingTime=e.target.value),"difficulty"===e.target.name&&e.target.checked&&(r.difficulty=e.target.value),"diet"===e.target.name&&(r.diets=[...e.target.closest("article").querySelectorAll("input")].map((e=>e.checked?e.value:null)).filter((e=>e)))})),document.querySelector(".orderBy").addEventListener("change",(e=>r.order=e.target.value))},u=async e=>{const r=recipes.all.find((t=>t.identifier===e)),n=JSON.parse(localStorage.favourites);let o;if("JSONFile"===r.source){const e=await fetch(`assets/recipes/${r.identifier}/recipe.json`),n=await e.text();o=new t(JSON.parse(n)),o.source="JSONFile"}else"localStorage"===r.source&&(o=new i(r));return o.favourised=n.includes(o.identifier),o},c=async()=>{const e=await u(window.decodeURI(window.location.hash.split("#").pop())),{name:t,favourised:r,favourisations:n,source:i,thumbnail:o,titleimage:s,identifier:c,ingredients:d,cookingTime:f,difficulty:h,diets:p,steps:m,published:g}=e;document.querySelector(".controls").addEventListener("click",(t=>{if(!t.target.closest("button"))return;const r=t.target.closest("button");r.classList.contains("edit")&&e.openEditor(),r.classList.contains("favourise")&&(e.favourise(),document.querySelector(".favourise").toggleAttribute("favourised"),document.querySelector(".favourise .label").textContent=e.favourisations+e.favourised)})),document.querySelector("h1").innerText=t,document.title=t,r&&document.querySelector(".favourise").setAttribute("favourised",""),document.querySelector(".favourise .label").textContent=n+r,"localStorage"===i&&document.getElementById("editButton").after(document.getElementById("editButton").content);const v=[1360,1600,1920,2560],y={alt:"",formats:["avif","webp","jpeg"],sizes:"(min-width: 65rem) 60rem, 100vw"};o?(y.src=`assets/recipes/${c}/titleimage/${v[0]}.jpeg`,y.srcset=y.formats.map((e=>v.map((t=>`assets/recipes/${c}/titleimage/${t}.${e} ${t}w`)).join(", ")))):(y.src=`assets/titleimage/${v[0]}.jpeg`,y.srcset=y.formats.map((e=>v.map((t=>`assets/titleimage/${t}.${e} ${t}w`)).join(", ")))),"JSONFile"===i?document.querySelector(".controls").after(a(y)):s?initializedlocalRecipeImages.then((()=>{localRecipeImages.transaction("imagesStore","readonly").objectStore("imagesStore").get(c).onsuccess=e=>{if(!e.target.result)return;const t=document.createElement("img");t.setAttribute("alt",y.alt),t.setAttribute("src",e.target.result.titleimageDataURL),document.querySelector(".controls").after(t)}})):document.querySelector(".controls").after(a(y));let b=1;l(".ingredients",d,b),document.querySelector(".ingredientHeader").addEventListener("click",(e=>{if(!e.target.closest("button"))return;const t=e.target.closest("button");"increase"===t.name&&b++,"decrease"===t.name&&b>1&&b--,document.querySelector(".portions").innerText=b+" portionen",l(".ingredients",d,b)}));const _=document.createDocumentFragment();if(f){const e=document.getElementById("metadataArticle").content.cloneNode(!0);e.querySelector(".label").textContent="Arbeitszeit";const t=document.createElement("span");t.innerText=`${f} Min.`,e.querySelector("article").appendChild(t),_.appendChild(e)}if(h){let e=[,"Einfach","Mittel","Schwer"];const t=document.getElementById("metadataArticle").content.cloneNode(!0);t.querySelector(".label").textContent="Schwierigkeitsgrad";const r=document.createElement("span");r.innerText=e[h],t.querySelector("article").appendChild(r),_.appendChild(t)}if(p.length){const e=document.getElementById("metadataArticle").content.cloneNode(!0);e.querySelector(".label").textContent="Ernährungsformen",p.forEach((t=>{const r=document.createElement("span");r.innerText=t,e.querySelector("article").appendChild(r)})),_.appendChild(e)}if(document.querySelector(".metadata").appendChild(_),m.length){const e=document.createElement("h2");e.innerText="Zubereitung",document.querySelector(".stepList").prepend(e);const t=document.createDocumentFragment();m.forEach(((e,r)=>{const n=document.getElementById("stepArticle").content.cloneNode(!0);n.querySelector(".label").textContent=`Schritt ${r+1}`,n.querySelector(".text").textContent=e,t.appendChild(n)})),document.querySelector(".steps").appendChild(t)}const x=new Date(g).toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric"});document.querySelector(".publication").textContent=`Hinzugefügt am ${x}.`},l=(e,t,r)=>{document.querySelector(e).innerHTML="";const n=document.createDocumentFragment();t.forEach((e=>{let t=e.unit;"amount"===e.unit&&(t="");const i=document.getElementById("ingredientArticle").content.cloneNode(!0);i.querySelector(".label").textContent=e.name,i.querySelector(".text").textContent=e.amount*r+t,n.appendChild(i)})),document.querySelector(e).appendChild(n)},d=e=>new Promise((t=>{if(!e||!/^image\//i.test(e.type))return;const r=new FileReader;r.onloadend=function(){const n=1360,i=1360,o=new Image;o.src=r.result,o.onload=function(){const a=o.width,s=o.height;let u,c;a>n||s>i||t(r.result),a>s?(c=s*(n/a),u=n):(u=a*(i/s),c=i);const l=document.createElement("canvas");l.width=u,l.height=c,l.getContext("2d").drawImage(this,0,0,u,c);const d=l.toDataURL(e.type);t(d)}},r.readAsDataURL(e)})),f=(e,t)=>{const r=document.getElementById("modalTemplate").content.cloneNode(!0);r.querySelector(".content").textContent=e,r.querySelector(".modal").addEventListener("click",(e=>{e.target.closest("button")&&(e.target.closest("button").classList.contains("yes")&&t(),e.target.closest(".modal-container").remove(),document.querySelector("body").removeAttribute("data-showModal"))})),document.querySelector("body").setAttribute("data-showModal",""),document.querySelector("main").appendChild(r),document.querySelector(".modal").style.transform=`translateY(${scrollY+(innerHeight-document.querySelector("header").offsetHeight-document.querySelector(".modal").offsetHeight)/2}px)`},h=async()=>{const e=await u(window.decodeURI(window.location.hash.split("#").pop())),t=document.querySelector("form");document.querySelector(".controls").addEventListener("click",(t=>{t.target.closest("button")&&t.target.closest("button").classList.contains("delete")&&f(`Möchtest du das Rezept "${e.name}" Löschen?`,(()=>{e.delete(),router.loadRoute("/Meine_Rezepte.html")}))})),t.addEventListener("submit",(async r=>{r.preventDefault();let n=!0;if(t.title.checkValidity()||(n=!1,t.title.reportValidity()),t.cookingTime.checkValidity()||(n=!1,t.cookingTime.reportValidity()),document.querySelectorAll(".ingredients article").forEach((e=>{e.querySelector('[name="name"]').value&&e.querySelectorAll("input").forEach((e=>{e.checkValidity()||(n=!1,e.reportValidity())}))})),!n)return;const i=e.identifier;e.save({name:t.title.value,cookingTime:Number(t.cookingTime.value),difficulty:Number(t.difficulty.value),diets:Array.from(document.querySelectorAll('[name="diet"]:checked')).map((e=>e.value)),ingredients:Array.from(document.querySelectorAll(".ingredients article")).map((e=>({name:e.querySelector('[name="name"]').value,amount:Number(e.querySelector('[name="amount"]').value),unit:e.querySelector('[name="unit"]').value}))).filter((e=>e.name)),steps:Array.from(document.querySelectorAll('[name="step"]')).map((e=>e.value)).filter((e=>e))}),e.identifier===i&&!t.image.files[0]||o?o?initializedlocalRecipeImages.then((async()=>{localRecipeImages.transaction("imagesStore","readwrite").objectStore("imagesStore").delete(i),e.save({titleimage:!1}).openViewer()})):e.openViewer():initializedlocalRecipeImages.then((async()=>{let r;t.image.files[0]&&(r=await d(t.image.files[0]));const n=localRecipeImages.transaction("imagesStore","readwrite").objectStore("imagesStore");n.get(i).onsuccess=t=>{t.target.result&&!r&&(r=t.target.result.titleimageDataURL),r?(n.put({titleimageDataURL:r,identifier:e.identifier}),e.save({titleimage:!0}).openViewer()):e.openViewer(),e.identifier!==i&&n.delete(i)}}))})),t.title.value=e.name,document.title=e.name+" Bearbeiten";const r="assets/titleimage.jpg";let n,i="assets/titleimage.jpg",o=!1;initializedlocalRecipeImages.then((()=>{localRecipeImages.transaction("imagesStore","readonly").objectStore("imagesStore").get(e.identifier).onsuccess=e=>{e.target.result&&(i=e.target.result.titleimageDataURL,document.querySelector("img").src=i)}})),t.image.addEventListener("change",(async()=>{const e=await d(t.image.files[0]);document.querySelector("img").src=e,n=!0,o=!1})),document.querySelector(".image button").addEventListener("click",(()=>{if(t.image.value="",n)document.querySelector("img").src=i,n=!1;else{if(document.querySelector("img").src.includes(r))return;f("Möchtest du das Bild Löschen?",(()=>{o=!0,document.querySelector("img").src=r}))}})),e.cookingTime&&(t.cookingTime.value=e.cookingTime),t.difficulty.value=e.difficulty,t.difficulty.value&&document.querySelector('[name="difficulty"]:checked').parentElement.setAttribute("data-checked",""),document.querySelectorAll('[name="diet"]').forEach((t=>{e.diets.includes(t.value)&&(t.checked=!0,t.parentElement.setAttribute("data-checked",""))}));const a=document.createDocumentFragment();let s=0;do{a.appendChild(p(e.ingredients[s])),s++}while(s<e.ingredients.length);document.querySelector(".ingredients").appendChild(a),new MutationObserver((()=>{document.querySelectorAll(".step .label").forEach(((e,t)=>{e.textContent=`Schritt ${t+1}`}))})).observe(document.querySelector(".steps"),{childList:!0});const c=document.createDocumentFragment();let l=0;do{c.appendChild(m(e.steps[l])),l++}while(l<e.steps.length);document.querySelector(".steps").appendChild(c),document.querySelector('[name="AddIngredient"]').addEventListener("click",(()=>{document.querySelector(".ingredients").appendChild(p())})),document.querySelector('[name="AddStep"]').addEventListener("click",(()=>{document.querySelector(".steps").appendChild(m(""))}))},p=(e={name:"",amount:0,unit:""})=>{const t=document.getElementById("ingredientInput").content.cloneNode(!0);return t.querySelector('[name="name"]').value=e.name,e.amount&&(t.querySelector('[name="amount"]').value=e.amount),e.unit&&t.querySelector(`[value="${e.unit}"]`).setAttribute("selected",""),t},m=(e="")=>{const t=document.getElementById("stepInput").content.cloneNode(!0);return t.querySelector(".label").textContent="Schritt",t.querySelector('[name="step"]').value=e,t},g=()=>{document.querySelectorAll("main > section").forEach((e=>{const t=new o(`#${e.id} .recipes`,recipes.public,{length:3,autoUpdate:!1});"quickAndEasy"===e.id&&(t.difficulty="1",t.order="cookingTime"),"mostPopular"===e.id&&(t.order="popularity"),"sugarfree"===e.id&&(t.diets=["Zuckerfrei"],t.order="relevancy"),"recentlyAdded"===e.id&&(t.order="creationDate"),"vegetarian"===e.id&&(t.diets=["Vegetarisch"],t.order="relevancy"),t.render()}))}}()}();